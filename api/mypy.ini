[mypy]
# MyPy 类型检查配置

# Python 版本
python_version = 3.11

# 基础设置
warn_return_any = True
warn_unused_configs = True
check_untyped_defs = True
cache_fine_grained = True
sqlite_cache = True

# 严格类型检查设置
disallow_untyped_defs = True
disallow_incomplete_defs = True
disallow_untyped_decorators = True

# 错误和警告设置
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True

# 严格模式
strict_optional = True
strict_equality = True

# 排除的模块
exclude = tests/|migrations/|\.venv/

# 插件
plugins = pydantic.mypy, sqlalchemy.ext.mypy.plugin

# 第三方库忽略设置
[mypy-flask_login]
ignore_missing_imports = True

[mypy-flask_restx]
ignore_missing_imports = True

[mypy-flask_restx.api]
ignore_missing_imports = True

[mypy-flask_restx.inputs]
ignore_missing_imports = True

[mypy-google.cloud.storage]
ignore_missing_imports = True

[mypy-celery]
ignore_missing_imports = True

[mypy-celery.app]
ignore_missing_imports = True

[mypy-redis]
ignore_missing_imports = True

[mypy-weaviate]
ignore_missing_imports = True

[mypy-weaviate.*]
ignore_missing_imports = True

[mypy-chromadb]
ignore_missing_imports = True

[mypy-chromadb.*]
ignore_missing_imports = True

[mypy-qdrant_client]
ignore_missing_imports = True

[mypy-qdrant_client.*]
ignore_missing_imports = True

[mypy-pymilvus]
ignore_missing_imports = True

[mypy-pymilvus.*]
ignore_missing_imports = True

[mypy-openai]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-tiktoken]
ignore_missing_imports = True

[mypy-transformers]
ignore_missing_imports = True

[mypy-transformers.*]
ignore_missing_imports = True

[mypy-jieba]
ignore_missing_imports = True

# Pydantic 插件配置
[pydantic-mypy]
init_forbid_extra = True
init_typed = True
warn_required_dynamic_aliases = True 