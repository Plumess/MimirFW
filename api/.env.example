# MimirFW API 环境变量配置示例
# 复制此文件为 .env 并根据实际情况修改配置

# ===== 打包信息 =====
VERSION=0.1.0
DESCRIPTION=基于大语言模型的对话类游戏搭建框架

# ===== 部署配置 =====
APPLICATION_NAME=MimirFW
DEBUG=True
ENABLE_REQUEST_LOGGING=False
EDITION=SELF_HOSTED
DEPLOY_ENV=DEVELOPMENT
API_PORT=8000

# ===== 安全配置 =====
SECRET_KEY=your-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ACCESS_TOKEN_EXPIRES=3600

# ===== 游戏配置 =====
GAME_MAX_PLAYERS_PER_SESSION=8
GAME_SESSION_TIMEOUT_MINUTES=60
GAME_AUTO_SAVE_INTERVAL_SECONDS=300

# ===== 日志配置 =====
LOG_LEVEL=INFO
# LOG_FILE=./logs/mimirfw.log
LOG_FORMAT=%(asctime)s.%(msecs)03d %(levelname)s [%(threadName)s] [%(filename)s:%(lineno)d] - %(message)s
# LOG_DATEFORMAT=%Y-%m-%d %H:%M:%S
LOG_TZ=UTC

# ===== HTTP 配置 =====
# CONSOLE_CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:3001
WEB_API_CORS_ALLOW_ORIGINS=*

# ===== 数据库配置 (PostgreSQL) =====
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=mimirfw
DB_PASSWORD=password
DB_DATABASE=mimirfw
DB_CHARSET=utf8
# DB_EXTRAS=keepalives_idle=60&keepalives=1
SQLALCHEMY_DATABASE_URI_SCHEME=postgresql
SQLALCHEMY_POOL_SIZE=30
SQLALCHEMY_MAX_OVERFLOW=10
SQLALCHEMY_POOL_RECYCLE=3600
SQLALCHEMY_POOL_USE_LIFO=False
SQLALCHEMY_POOL_PRE_PING=False
SQLALCHEMY_ECHO=False

# ===== Redis 配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_USERNAME=
# REDIS_PASSWORD=
REDIS_DB=0
REDIS_USE_SSL=False
REDIS_SSL_CERT_REQS=CERT_NONE
# REDIS_SSL_CA_CERTS=
# REDIS_SSL_CERTFILE=
# REDIS_SSL_KEYFILE=
REDIS_USE_SENTINEL=False
# REDIS_SENTINELS=sentinel1:26379,sentinel2:26379
# REDIS_SENTINEL_SERVICE_NAME=mymaster
# REDIS_SENTINEL_USERNAME=
# REDIS_SENTINEL_PASSWORD=
REDIS_SENTINEL_SOCKET_TIMEOUT=0.1
REDIS_USE_CLUSTERS=False
# REDIS_CLUSTERS=node1:7000,node2:7000,node3:7000
# REDIS_CLUSTERS_PASSWORD=
REDIS_SERIALIZATION_PROTOCOL=3
REDIS_ENABLE_CLIENT_SIDE_CACHE=False

# ===== Celery 配置 =====
CELERY_BACKEND=redis
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_USE_SENTINEL=False
# CELERY_SENTINEL_MASTER_NAME=mymaster
# CELERY_SENTINEL_PASSWORD=
CELERY_SENTINEL_SOCKET_TIMEOUT=0.1

# ===== 向量数据库配置 =====
VECTOR_STORE=weaviate
VECTOR_STORE_WHITELIST_ENABLE=False
VECTOR_INDEX_NAME_PREFIX=Vector_index

# Weaviate 配置
WEAVIATE_ENDPOINT=http://localhost:8080
# WEAVIATE_API_KEY=your-weaviate-api-key
WEAVIATE_GRPC_ENABLED=True
WEAVIATE_BATCH_SIZE=100

# ===== 生产环境示例 =====
# 在生产环境中，建议设置以下配置：
# DEBUG=False
# DEPLOY_ENV=PRODUCTION
# SECRET_KEY=$(openssl rand -base64 42)
# JWT_SECRET_KEY=$(openssl rand -base64 42)
# LOG_LEVEL=WARNING
# DB_HOST=your-production-db-host
# REDIS_HOST=your-production-redis-host
# WEAVIATE_ENDPOINT=https://your-production-weaviate-host
