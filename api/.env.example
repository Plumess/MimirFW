# =============================================================================
# MimirFW 环境配置示例
# =============================================================================
# 复制此文件为 .env 并根据需要修改配置
# 大部分配置都有合理的默认值，只有以下配置需要用户自定义

# =============================================================================
# 基础配置
# =============================================================================

# 应用名称
APPLICATION_NAME=mimirfw

# 调试模式 (开发环境建议设为 true)
DEBUG=false

# 部署环境 (PRODUCTION | DEVELOPMENT)
DEPLOY_ENV=PRODUCTION

# 应用版本 (从 pyproject.toml 自动读取，通常不需要修改)
VERSION=0.1.0

# =============================================================================
# 安全配置 (必须配置)
# =============================================================================

# 安全密钥 (必须设置，用于会话签名等)
# 使用命令生成: openssl rand -base64 42
SECRET_KEY=your-secret-key-here

# 管理员 API 密钥 (可选，用于内部 API 访问)
# ADMIN_API_KEY=your-admin-api-key-here

# =============================================================================
# 数据库配置
# =============================================================================

# 数据库主机
DB_HOST=localhost

# 数据库端口
DB_PORT=5432

# 数据库用户名
DB_USERNAME=postgres

# 数据库密码
DB_PASSWORD=your-db-password

# 数据库名称
DB_DATABASE=mimirfw

# =============================================================================
# Redis 配置
# =============================================================================

# Redis 主机
REDIS_HOST=localhost

# Redis 端口
REDIS_PORT=6379

# Redis 密码 (如果设置了密码)
REDIS_PASSWORD=your-redis-password

# Redis 数据库编号
REDIS_DB=0

# =============================================================================
# 存储配置
# =============================================================================

# 存储类型 (opendal | s3 | aliyun-oss | local)
STORAGE_TYPE=opendal

# 本地存储路径 (当 STORAGE_TYPE=local 时使用)
# STORAGE_LOCAL_PATH=storage

# =============================================================================
# 向量数据库配置
# =============================================================================

# 向量数据库类型 (weaviate | milvus)
VECTOR_STORE=weaviate

# Weaviate 配置
WEAVIATE_ENDPOINT=http://localhost:8080
WEAVIATE_API_KEY=your-weaviate-api-key

# Milvus 配置 (当 VECTOR_STORE=milvus 时使用)
# MILVUS_HOST=localhost
# MILVUS_PORT=19530
# MILVUS_USER=root
# MILVUS_PASSWORD=Milvus

# =============================================================================
# 模型提供商配置
# =============================================================================

# OpenAI 配置
# OPENAI_API_KEY=your-openai-api-key
# OPENAI_API_BASE=https://api.openai.com/v1

# Anthropic 配置
# ANTHROPIC_API_KEY=your-anthropic-api-key

# 其他模型提供商配置...
# AZURE_OPENAI_API_KEY=your-azure-api-key
# AZURE_OPENAI_API_BASE=https://your-resource.openai.azure.com

# =============================================================================
# 插件系统配置
# =============================================================================

# 插件守护进程 URL
PLUGIN_DAEMON_URL=http://localhost:5002

# 插件守护进程密钥
PLUGIN_DAEMON_KEY=plugin-api-key

# 内部 API 密钥 (用于插件通信)
INNER_API_KEY_FOR_PLUGIN=inner-api-key

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别 (DEBUG | INFO | WARNING | ERROR | CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径 (可选，不设置则输出到控制台)
# LOG_FILE=logs/mimirfw.log

# =============================================================================
# 文件上传配置
# =============================================================================

# 文件上传大小限制 (MB)
UPLOAD_FILE_SIZE_LIMIT=15

# 图片文件大小限制 (MB)
UPLOAD_IMAGE_FILE_SIZE_LIMIT=10

# 视频文件大小限制 (MB)
UPLOAD_VIDEO_FILE_SIZE_LIMIT=100

# 音频文件大小限制 (MB)
UPLOAD_AUDIO_FILE_SIZE_LIMIT=50

# =============================================================================
# 工作流配置
# =============================================================================

# 工作流最大执行步数
WORKFLOW_MAX_EXECUTION_STEPS=500

# 工作流最大执行时间 (秒)
WORKFLOW_MAX_EXECUTION_TIME=1200

# =============================================================================
# 应用执行配置
# =============================================================================

# 应用最大执行时间 (秒)
APP_MAX_EXECUTION_TIME=1200

# 应用每日请求限制 (0=无限制)
APP_DAILY_RATE_LIMIT=5000

# =============================================================================
# 端点配置 (可选，通常使用默认值)
# =============================================================================

# 控制台 API URL
CONSOLE_API_URL=http://localhost:8000/console/api

# 控制台 Web URL
CONSOLE_WEB_URL=http://localhost:3000

# 服务 API URL
SERVICE_API_URL=http://localhost:8000/service/api

# 应用 Web URL
APP_WEB_URL=http://localhost:3000

# =============================================================================
# 高级配置 (企业级功能，通常不需要配置)
# =============================================================================

# 计费功能 (预留)
# BILLING_ENABLED=false

# 邮件服务 (预留)
# MAIL_TYPE=smtp
# SMTP_SERVER=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@example.com
# SMTP_PASSWORD=your-email-password

# 内容审核 (预留)
# MODERATION_BUFFER_SIZE=300

# 监控追踪 (预留)
# ENABLE_OTEL=false
# OTLP_TRACE_ENDPOINT=http://localhost:4318/v1/traces

# =============================================================================
# 远程配置源 (预留)
# =============================================================================

# Apollo 配置中心
# APOLLO_APP_ID=your-app-id
# APOLLO_CLUSTER=default
# APOLLO_CONFIG_URL=http://localhost:8080
# APOLLO_NAMESPACE=application

# Nacos 配置中心
# NACOS_SERVER_ADDRESSES=localhost:8848
# NACOS_NAMESPACE=your-namespace
# NACOS_DATA_ID=mimirfw-config
# NACOS_GROUP=DEFAULT_GROUP

# =============================================================================
# 开发配置 (仅开发环境使用)
# =============================================================================

# 启用请求日志记录
# ENABLE_REQUEST_LOGGING=true

# 启用内部 API
# INNER_API=true

# 允许注册
# ALLOW_REGISTER=true

# 允许创建工作空间
# ALLOW_CREATE_WORKSPACE=true

# 启用登录功能
# LOGIN_DISABLED=false
